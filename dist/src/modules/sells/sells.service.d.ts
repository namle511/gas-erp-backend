import { Repository } from 'typeorm';
import { Sell } from '../../database/entities/sell.entity';
import { SellDetail } from '../../database/entities/sell-detail.entity';
import { CreateSellDto } from './dto/create-sell.dto';
import { UpdateSellDto } from './dto/update-sell.dto';
export declare class SellsService {
    private readonly sellRepository;
    private readonly sellDetailRepository;
    constructor(sellRepository: Repository<Sell>, sellDetailRepository: Repository<SellDetail>);
    getStatusLabels(): Record<number, string>;
    getOrderTypeLabels(): Record<number, string>;
    getSourceLabels(): Record<number, string>;
    getPaymentTypeLabels(): Record<number, string>;
    findAll(query: {
        page?: number;
        limit?: number;
        status?: number;
        orderType?: number;
        source?: number;
        agentId?: number;
        customerId?: number;
        dateFrom?: string;
        dateTo?: string;
        codeNo?: string;
        sortBy?: string;
        sortOrder?: 'ASC' | 'DESC';
    }): Promise<{
        data: {
            statusLabel: string;
            orderTypeLabel: string;
            sourceLabel: string;
            paymentTypeLabel: string;
            customerName: string;
            customerPhone: string;
            customerAddress: string;
            agentName: string;
            employeeMaintainName: string;
            materialsSummary: string;
            creatorName: string;
            id: number;
            firstOrder: number;
            source: number;
            status: number;
            statusCancel: number;
            codeNo: string;
            orderType: number;
            typeAmount: number;
            orderTypeStatus: number;
            customerId: number;
            typeCustomer: number;
            phone: number;
            saleId: number;
            firstName: string;
            agentId: number;
            provinceId: number;
            employeeMaintainId: number;
            roleIdEmployee: number;
            uidLogin: number;
            callCenterId: number;
            createdDateOnly: Date;
            createdDateOnlyBigint: number;
            createdDate: Date;
            createdDateBigint: number;
            note: string;
            lastUpdateBy: number;
            lastUpdateTime: Date;
            qtyDiscount: number;
            amountDiscount: number;
            amountBuVo: number;
            transactionHistoryId: number;
            appPromotionUserId: number;
            promotionId: number;
            promotionAmount: number;
            promotionType: number;
            total: number;
            grandTotal: number;
            address: string;
            supportId: number;
            ptttCode: string;
            callId: number;
            callEndTime: number;
            highPrice: number;
            completeTime: Date;
            completeTimeBigint: number;
            customerNew: number;
            platform: number;
            v1DiscountAmount: number;
            v1DiscountId: number;
            gasRemain: number;
            gasRemainAmount: number;
            kgEmpty: number;
            kgHasGas: number;
            deliveryTimer: Date | null;
            isTimer: number;
            paymentType: number;
            refcode: string;
            codePartnerId: number;
            promotionExtraId: number;
            promotionExtraAmount: number;
            datePaid: number;
            actionType: number;
            customer: import("../../database/entities").User;
            agent: import("../../database/entities").User;
            employeeMaintain: import("../../database/entities").User;
            sale: import("../../database/entities").User;
            userLogin: import("../../database/entities").User;
            details: SellDetail[];
        }[];
        meta: {
            total: number;
            page: number;
            limit: number;
            totalPages: number;
        };
    }>;
    findOne(id: number): Promise<{
        statusLabel: string;
        orderTypeLabel: string;
        sourceLabel: string;
        paymentTypeLabel: string;
        customerName: string;
        agentName: string;
        id: number;
        firstOrder: number;
        source: number;
        status: number;
        statusCancel: number;
        codeNo: string;
        orderType: number;
        typeAmount: number;
        orderTypeStatus: number;
        customerId: number;
        typeCustomer: number;
        phone: number;
        saleId: number;
        firstName: string;
        agentId: number;
        provinceId: number;
        employeeMaintainId: number;
        roleIdEmployee: number;
        uidLogin: number;
        callCenterId: number;
        createdDateOnly: Date;
        createdDateOnlyBigint: number;
        createdDate: Date;
        createdDateBigint: number;
        note: string;
        lastUpdateBy: number;
        lastUpdateTime: Date;
        qtyDiscount: number;
        amountDiscount: number;
        amountBuVo: number;
        transactionHistoryId: number;
        appPromotionUserId: number;
        promotionId: number;
        promotionAmount: number;
        promotionType: number;
        total: number;
        grandTotal: number;
        address: string;
        supportId: number;
        ptttCode: string;
        callId: number;
        callEndTime: number;
        highPrice: number;
        completeTime: Date;
        completeTimeBigint: number;
        customerNew: number;
        platform: number;
        v1DiscountAmount: number;
        v1DiscountId: number;
        gasRemain: number;
        gasRemainAmount: number;
        kgEmpty: number;
        kgHasGas: number;
        deliveryTimer: Date | null;
        isTimer: number;
        paymentType: number;
        refcode: string;
        codePartnerId: number;
        promotionExtraId: number;
        promotionExtraAmount: number;
        datePaid: number;
        actionType: number;
        customer: import("../../database/entities").User;
        agent: import("../../database/entities").User;
        employeeMaintain: import("../../database/entities").User;
        sale: import("../../database/entities").User;
        userLogin: import("../../database/entities").User;
        details: SellDetail[];
    }>;
    create(createSellDto: CreateSellDto, userId: number): Promise<{
        statusLabel: string;
        orderTypeLabel: string;
        sourceLabel: string;
        paymentTypeLabel: string;
        customerName: string;
        agentName: string;
        id: number;
        firstOrder: number;
        source: number;
        status: number;
        statusCancel: number;
        codeNo: string;
        orderType: number;
        typeAmount: number;
        orderTypeStatus: number;
        customerId: number;
        typeCustomer: number;
        phone: number;
        saleId: number;
        firstName: string;
        agentId: number;
        provinceId: number;
        employeeMaintainId: number;
        roleIdEmployee: number;
        uidLogin: number;
        callCenterId: number;
        createdDateOnly: Date;
        createdDateOnlyBigint: number;
        createdDate: Date;
        createdDateBigint: number;
        note: string;
        lastUpdateBy: number;
        lastUpdateTime: Date;
        qtyDiscount: number;
        amountDiscount: number;
        amountBuVo: number;
        transactionHistoryId: number;
        appPromotionUserId: number;
        promotionId: number;
        promotionAmount: number;
        promotionType: number;
        total: number;
        grandTotal: number;
        address: string;
        supportId: number;
        ptttCode: string;
        callId: number;
        callEndTime: number;
        highPrice: number;
        completeTime: Date;
        completeTimeBigint: number;
        customerNew: number;
        platform: number;
        v1DiscountAmount: number;
        v1DiscountId: number;
        gasRemain: number;
        gasRemainAmount: number;
        kgEmpty: number;
        kgHasGas: number;
        deliveryTimer: Date | null;
        isTimer: number;
        paymentType: number;
        refcode: string;
        codePartnerId: number;
        promotionExtraId: number;
        promotionExtraAmount: number;
        datePaid: number;
        actionType: number;
        customer: import("../../database/entities").User;
        agent: import("../../database/entities").User;
        employeeMaintain: import("../../database/entities").User;
        sale: import("../../database/entities").User;
        userLogin: import("../../database/entities").User;
        details: SellDetail[];
    }>;
    update(id: number, updateSellDto: UpdateSellDto, userId: number): Promise<{
        statusLabel: string;
        orderTypeLabel: string;
        sourceLabel: string;
        paymentTypeLabel: string;
        customerName: string;
        agentName: string;
        id: number;
        firstOrder: number;
        source: number;
        status: number;
        statusCancel: number;
        codeNo: string;
        orderType: number;
        typeAmount: number;
        orderTypeStatus: number;
        customerId: number;
        typeCustomer: number;
        phone: number;
        saleId: number;
        firstName: string;
        agentId: number;
        provinceId: number;
        employeeMaintainId: number;
        roleIdEmployee: number;
        uidLogin: number;
        callCenterId: number;
        createdDateOnly: Date;
        createdDateOnlyBigint: number;
        createdDate: Date;
        createdDateBigint: number;
        note: string;
        lastUpdateBy: number;
        lastUpdateTime: Date;
        qtyDiscount: number;
        amountDiscount: number;
        amountBuVo: number;
        transactionHistoryId: number;
        appPromotionUserId: number;
        promotionId: number;
        promotionAmount: number;
        promotionType: number;
        total: number;
        grandTotal: number;
        address: string;
        supportId: number;
        ptttCode: string;
        callId: number;
        callEndTime: number;
        highPrice: number;
        completeTime: Date;
        completeTimeBigint: number;
        customerNew: number;
        platform: number;
        v1DiscountAmount: number;
        v1DiscountId: number;
        gasRemain: number;
        gasRemainAmount: number;
        kgEmpty: number;
        kgHasGas: number;
        deliveryTimer: Date | null;
        isTimer: number;
        paymentType: number;
        refcode: string;
        codePartnerId: number;
        promotionExtraId: number;
        promotionExtraAmount: number;
        datePaid: number;
        actionType: number;
        customer: import("../../database/entities").User;
        agent: import("../../database/entities").User;
        employeeMaintain: import("../../database/entities").User;
        sale: import("../../database/entities").User;
        userLogin: import("../../database/entities").User;
        details: SellDetail[];
    }>;
    updateStatus(id: number, status: number, userId: number, statusCancel?: number): Promise<{
        statusLabel: string;
        orderTypeLabel: string;
        sourceLabel: string;
        paymentTypeLabel: string;
        customerName: string;
        agentName: string;
        id: number;
        firstOrder: number;
        source: number;
        status: number;
        statusCancel: number;
        codeNo: string;
        orderType: number;
        typeAmount: number;
        orderTypeStatus: number;
        customerId: number;
        typeCustomer: number;
        phone: number;
        saleId: number;
        firstName: string;
        agentId: number;
        provinceId: number;
        employeeMaintainId: number;
        roleIdEmployee: number;
        uidLogin: number;
        callCenterId: number;
        createdDateOnly: Date;
        createdDateOnlyBigint: number;
        createdDate: Date;
        createdDateBigint: number;
        note: string;
        lastUpdateBy: number;
        lastUpdateTime: Date;
        qtyDiscount: number;
        amountDiscount: number;
        amountBuVo: number;
        transactionHistoryId: number;
        appPromotionUserId: number;
        promotionId: number;
        promotionAmount: number;
        promotionType: number;
        total: number;
        grandTotal: number;
        address: string;
        supportId: number;
        ptttCode: string;
        callId: number;
        callEndTime: number;
        highPrice: number;
        completeTime: Date;
        completeTimeBigint: number;
        customerNew: number;
        platform: number;
        v1DiscountAmount: number;
        v1DiscountId: number;
        gasRemain: number;
        gasRemainAmount: number;
        kgEmpty: number;
        kgHasGas: number;
        deliveryTimer: Date | null;
        isTimer: number;
        paymentType: number;
        refcode: string;
        codePartnerId: number;
        promotionExtraId: number;
        promotionExtraAmount: number;
        datePaid: number;
        actionType: number;
        customer: import("../../database/entities").User;
        agent: import("../../database/entities").User;
        employeeMaintain: import("../../database/entities").User;
        sale: import("../../database/entities").User;
        userLogin: import("../../database/entities").User;
        details: SellDetail[];
    }>;
    remove(id: number): Promise<{
        message: string;
    }>;
    private generateCodeNo;
    getDropdowns(): {
        statuses: {
            value: number;
            label: string;
        }[];
        orderTypes: {
            value: number;
            label: string;
        }[];
        sources: {
            value: number;
            label: string;
        }[];
        paymentTypes: {
            value: number;
            label: string;
        }[];
    };
    getReport(query: {
        dateFrom?: string;
        dateTo?: string;
        groupBy: 'agent' | 'material' | 'creator' | 'province';
        status?: number;
    }): Promise<{
        data: {
            groupId: any;
            groupName: any;
            totalOrders: number;
            totalQty: number;
            totalRevenue: number;
        }[];
        summary: any;
        meta: {
            groupBy: "province" | "material" | "agent" | "creator";
            dateFrom: string | null;
            dateTo: string | null;
            status: number | null;
        };
    }>;
    getDashboard(query: {
        dateFrom?: string;
        dateTo?: string;
        provinceId?: number;
        agentId?: number;
        materialId?: number;
        status?: number;
    }): Promise<{
        byProvince: {
            id: any;
            name: any;
            orderCount: number;
            quantity: number;
            revenue: number;
        }[];
        byAgent: {
            id: any;
            name: any;
            orderCount: number;
            quantity: number;
            revenue: number;
        }[];
        byMaterial: {
            id: any;
            name: any;
            orderCount: number;
            quantity: number;
            revenue: number;
        }[];
        totals: {
            totalOrders: number;
            totalQuantity: number;
            totalRevenue: number;
        };
        filters: {
            dateFrom: string | null;
            dateTo: string | null;
            provinceId: number | null;
            agentId: number | null;
            materialId: number | null;
            status: number | null;
        };
    }>;
    getMobileOrders(employeeId: number, agentId: number, query: {
        page?: number;
        limit?: number;
        tab?: 'new' | 'my' | 'completed' | 'cancelled';
    }): Promise<{
        data: {
            id: number;
            codeNo: string;
            customerName: string;
            customerPhone: string;
            customerAddress: string;
            status: number;
            statusLabel: string;
            orderType: number;
            orderTypeLabel: string;
            grandTotal: number;
            createdDate: Date;
            deliveryTimer: Date | null;
            isTimer: number;
            note: string;
            materialsSummary: string;
            details: {
                id: number;
                materialId: number;
                materialName: string;
                materialTypeId: number;
                qty: number;
                price: number;
                amount: number;
            }[];
        }[];
        meta: {
            total: number;
            page: number;
            limit: number;
            totalPages: number;
        };
    }>;
    pickOrder(orderId: number, employeeId: number): Promise<{
        message: string;
        orderId: number;
    }>;
    cancelPick(orderId: number, employeeId: number): Promise<{
        message: string;
        orderId: number;
    }>;
    dropOrder(orderId: number, employeeId: number, statusCancel: number): Promise<{
        message: string;
        orderId: number;
    }>;
    completeOrder(orderId: number, employeeId: number, data?: {
        details?: Array<{
            materialsId: number;
            materialsTypeId: number;
            qty: number;
            price: number;
            seri?: number;
        }>;
        promotionAmount?: number;
        ptttCode?: string;
        gasRemain?: number;
        gasRemainAmount?: number;
    }): Promise<{
        message: string;
        orderId: number;
        grandTotal: number;
    }>;
    getCancelReasons(): {
        value: number;
        label: string;
    }[];
}
